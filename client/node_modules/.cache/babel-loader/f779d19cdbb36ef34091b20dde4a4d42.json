{"ast":null,"code":"var _jsxFileName = \"D:\\\\Implementation\\\\InsightMRI\\\\client\\\\src\\\\Components\\\\Login.js\";\nimport React, { useEffect } from \"react\";\nimport \"@fontsource/ubuntu\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { gapi, auth2 } from 'gapi-script';\nimport { setEmail, setUsername, setPropic } from '../Redux/SetAuthData';\nimport \"./Login.css\";\nconst Login = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    window.gapi.load(\"auth2\", () => {\n      window.gapi.auth2.init({\n        client_id: \"160617373173-2317fvfl8scdkfpbk5m5678b3i9ngdif.apps.googleusercontent.com\",\n        scope: \"\"\n      });\n    });\n  }, []);\n  function initGAPI() {\n    return new Promise((resolve, reject) => {\n      window.gapi.load('auth2', () => {\n        resolve();\n      });\n    });\n  }\n  async function handleSignIn() {\n    try {\n      await initGAPI();\n      window.gapi.auth2.getAuthInstance().signIn({\n        scope: \"profile email\"\n      }).then(res => {\n        const loggeduser = res.getBasicProfile();\n        console.log(loggeduser);\n        const Gname = loggeduser.getName();\n        const Gmail = loggeduser.getEmail();\n        const Gpic = loggeduser.getImageUrl();\n        sessionStorage.setItem('userProfile', JSON.stringify({\n          Gname,\n          Gmail,\n          Gpic\n        }));\n        dispatch(setUsername(loggeduser.getName()));\n        dispatch(setEmail(loggeduser.getEmail()));\n        dispatch(setPropic(loggeduser.getImageUrl()));\n        navigate(`/submission/?w_id=1`);\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"main\", {\n    className: \"main-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"welcome-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"InsightMRI\"), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"topic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"u\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 33\n    }\n  }, \"Exploring MRI - Unveiling Clarity\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \" d-flex px-3 justify-content-center g-signin2\",\n    \"data-width\": \"280\",\n    \"data-height\": \"50\",\n    \"data-theme\": \"dark\",\n    \"data-longtitle\": \"true\",\n    onClick: () => handleSignIn(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, \" \"))));\n};\nexport default Login;","map":{"version":3,"names":["React","useEffect","useDispatch","useNavigate","gapi","auth2","setEmail","setUsername","setPropic","Login","navigate","dispatch","window","load","init","client_id","scope","initGAPI","Promise","resolve","reject","handleSignIn","getAuthInstance","signIn","then","res","loggeduser","getBasicProfile","console","log","Gname","getName","Gmail","getEmail","Gpic","getImageUrl","sessionStorage","setItem","JSON","stringify","err","error","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["D:/Implementation/InsightMRI/client/src/Components/Login.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport \"@fontsource/ubuntu\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { gapi, auth2 } from 'gapi-script';\nimport { setEmail, setUsername, setPropic } from '../Redux/SetAuthData';\nimport \"./Login.css\";\n\nconst Login = () => {\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  useEffect (() => {\n        window.gapi.load(\"auth2\", () => {\n        window.gapi.auth2.init({\n          client_id: \"160617373173-2317fvfl8scdkfpbk5m5678b3i9ngdif.apps.googleusercontent.com\",\n          scope: \"\",\n        });\n      });\n  },[]);\n\n  function initGAPI() {\n    return new Promise((resolve, reject) => {\n      window.gapi.load('auth2', () => {\n        resolve();\n      });\n    });\n  }\n\n  async function handleSignIn () {\n    try {\n      await initGAPI();\n      window.gapi.auth2\n      .getAuthInstance()\n      .signIn({ scope: \"profile email\" })\n      .then((res) => {\n        const loggeduser = res.getBasicProfile();\n        console.log(loggeduser);\n        const Gname = loggeduser.getName();\n        const Gmail = loggeduser.getEmail();\n        const Gpic = loggeduser.getImageUrl();\n\n        sessionStorage.setItem('userProfile', JSON.stringify({Gname, Gmail, Gpic}));\n\n        dispatch(setUsername(loggeduser.getName()));\n        dispatch(setEmail(loggeduser.getEmail()));\n        dispatch(setPropic(loggeduser.getImageUrl()));\n\n        navigate(`/submission/?w_id=1`)\n      })\n    }\n    catch (err) {\n      console.error(err)\n    }\n  }\n\n  return (  \n    <div className=\"login-page\">\n      <main className=\"main-content\">\n        <div className=\"welcome-section\">\n          <p className=\"head\">InsightMRI</p>\n          <h1 className=\"topic\"><u>Exploring MRI - Unveiling Clarity</u></h1>\n          <div className=\" d-flex px-3 justify-content-center g-signin2\" data-width=\"280\" data-height=\"50\" data-theme=\"dark\" data-longtitle=\"true\" \n                  onClick={() => (handleSignIn())}> </div>\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}